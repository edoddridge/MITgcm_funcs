<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>mitgcm: mitgcm.functions Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">mitgcm
   </div>
   <div id="projectbrief">Analysis of MITgcm output using python</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="namespacemembers.html"><span>Package&#160;Functions</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemitgcm.html">mitgcm</a></li><li class="navelem"><a class="el" href="namespacemitgcm_1_1functions.html">functions</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mitgcm.functions Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Useful functions that don't belong elsewhere.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a09eadeb67465639c4d304789365e17b7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemitgcm_1_1functions.html#a09eadeb67465639c4d304789365e17b7">calc_surface</a></td></tr>
<tr class="separator:a09eadeb67465639c4d304789365e17b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97ad44d662af0ab6cd58e2090a0dfe62"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemitgcm_1_1functions.html#a97ad44d662af0ab6cd58e2090a0dfe62">extract_on_surface</a> (input_array, surface_locations, axis_values)</td></tr>
<tr class="memdesc:a97ad44d662af0ab6cd58e2090a0dfe62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract the value of a 3D field on a 2D surface.  <a href="#a97ad44d662af0ab6cd58e2090a0dfe62">More...</a><br /></td></tr>
<tr class="separator:a97ad44d662af0ab6cd58e2090a0dfe62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab26c3c96d103e888d18a0378ebd78355"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemitgcm_1_1functions.html#ab26c3c96d103e888d18a0378ebd78355">layer_integrate</a></td></tr>
<tr class="memdesc:ab26c3c96d103e888d18a0378ebd78355"><td class="mdescLeft">&#160;</td><td class="mdescRight">Integrate between two non-trivial surfaces, 'upper_contour' and 'lower_contour'.  <a href="#ab26c3c96d103e888d18a0378ebd78355">More...</a><br /></td></tr>
<tr class="separator:ab26c3c96d103e888d18a0378ebd78355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab12baa939c3055bc4c9bceb54da9f16e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemitgcm_1_1functions.html#ab12baa939c3055bc4c9bceb54da9f16e">test_layer_integrate</a> ()</td></tr>
<tr class="separator:ab12baa939c3055bc4c9bceb54da9f16e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4027a61553c5b8f04b4fcb335224b30e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemitgcm_1_1functions.html#a4027a61553c5b8f04b4fcb335224b30e">interp_field</a></td></tr>
<tr class="memdesc:a4027a61553c5b8f04b4fcb335224b30e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interpolate a given field onto a different grid.  <a href="#a4027a61553c5b8f04b4fcb335224b30e">More...</a><br /></td></tr>
<tr class="separator:a4027a61553c5b8f04b4fcb335224b30e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79d214026dcd3ed31e27a1d2c9249cd5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemitgcm_1_1functions.html#a79d214026dcd3ed31e27a1d2c9249cd5">export_binary</a></td></tr>
<tr class="memdesc:a79d214026dcd3ed31e27a1d2c9249cd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export binary files that can be imported into the MITgcm.  <a href="#a79d214026dcd3ed31e27a1d2c9249cd5">More...</a><br /></td></tr>
<tr class="separator:a79d214026dcd3ed31e27a1d2c9249cd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab197f4884fc8a0ab7d38dc5a5cfd5eb2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemitgcm_1_1functions.html#ab197f4884fc8a0ab7d38dc5a5cfd5eb2">show_variables</a> (netcdf_filename)</td></tr>
<tr class="memdesc:ab197f4884fc8a0ab7d38dc5a5cfd5eb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">A shortcut function to display all of the variables contained within a netcdf file.  <a href="#ab197f4884fc8a0ab7d38dc5a5cfd5eb2">More...</a><br /></td></tr>
<tr class="separator:ab197f4884fc8a0ab7d38dc5a5cfd5eb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6070f3c37fd5bc2f9f9e5c53dbd2d986"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemitgcm_1_1functions.html#a6070f3c37fd5bc2f9f9e5c53dbd2d986">plt_mon_stats</a></td></tr>
<tr class="memdesc:a6070f3c37fd5bc2f9f9e5c53dbd2d986"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plot some monitor file variables.  <a href="#a6070f3c37fd5bc2f9f9e5c53dbd2d986">More...</a><br /></td></tr>
<tr class="separator:a6070f3c37fd5bc2f9f9e5c53dbd2d986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accc175fb281b4d8b8ffa973260d0b792"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemitgcm_1_1functions.html#accc175fb281b4d8b8ffa973260d0b792">replace_nans</a></td></tr>
<tr class="memdesc:accc175fb281b4d8b8ffa973260d0b792"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace NaN elements in an array using an iterative image inpainting algorithm.  <a href="#accc175fb281b4d8b8ffa973260d0b792">More...</a><br /></td></tr>
<tr class="separator:accc175fb281b4d8b8ffa973260d0b792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f5e2c48ffb91f133837e5fcae1eb143"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemitgcm_1_1functions.html#a4f5e2c48ffb91f133837e5fcae1eb143">numerics_replace_nans</a> (max_iter, n_nans, inans, jnans, filled, kernel, kernel_size, tol, replaced_new, replaced_old)</td></tr>
<tr class="separator:a4f5e2c48ffb91f133837e5fcae1eb143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed1104c67878e97d1fce0640dfd0bb26"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemitgcm_1_1functions.html#aed1104c67878e97d1fce0640dfd0bb26">shift_vort_to_T</a> (array)</td></tr>
<tr class="memdesc:aed1104c67878e97d1fce0640dfd0bb26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shift the array from vorticity points to the corresponding tracer point.  <a href="#aed1104c67878e97d1fce0640dfd0bb26">More...</a><br /></td></tr>
<tr class="separator:aed1104c67878e97d1fce0640dfd0bb26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4080d0c45351dcd041bf1c77e26f42f4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemitgcm_1_1functions.html#a4080d0c45351dcd041bf1c77e26f42f4">shift_U_to_T</a> (array)</td></tr>
<tr class="memdesc:a4080d0c45351dcd041bf1c77e26f42f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shift the array from UVEL points to the corresponding tracer point.  <a href="#a4080d0c45351dcd041bf1c77e26f42f4">More...</a><br /></td></tr>
<tr class="separator:a4080d0c45351dcd041bf1c77e26f42f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26bab479bedecc18aa830eda439ab9b7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemitgcm_1_1functions.html#a26bab479bedecc18aa830eda439ab9b7">shift_V_to_T</a> (array)</td></tr>
<tr class="memdesc:a26bab479bedecc18aa830eda439ab9b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shift the array from VVEL points to the corresponding tracer point.  <a href="#a26bab479bedecc18aa830eda439ab9b7">More...</a><br /></td></tr>
<tr class="separator:a26bab479bedecc18aa830eda439ab9b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53542e46800d54165cbda624b24a1d83"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemitgcm_1_1functions.html#a53542e46800d54165cbda624b24a1d83">shift_W_to_T</a> (array)</td></tr>
<tr class="memdesc:a53542e46800d54165cbda624b24a1d83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shift the array from WVEL points to the corresponding tracer point.  <a href="#a53542e46800d54165cbda624b24a1d83">More...</a><br /></td></tr>
<tr class="separator:a53542e46800d54165cbda624b24a1d83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Useful functions that don't belong elsewhere. </p>
<p>A collection of functions for analysing model output. These include functions to extract surfaces at a constant value of some variable and extract a variable on a surface.</p>
<p>Each function has a detailed docstring. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a09eadeb67465639c4d304789365e17b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mitgcm.functions.calc_surface </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>input_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>surface_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>axis_values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em> = <code>'linear'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">nearest finds the index just before the search value. linear uses linear interpolation to find the location between grid points.
May give silly answers if the input_array is not monotonic in the search direction.</pre> 
<p>Definition at line <a class="el" href="functions_8py_source.html#l00021">21</a> of file <a class="el" href="functions_8py_source.html">functions.py</a>.</p>

</div>
</div>
<a class="anchor" id="a79d214026dcd3ed31e27a1d2c9249cd5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mitgcm.functions.export_binary </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em> = <code>'float64'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export binary files that can be imported into the MITgcm. </p>
<p>The files are big endian, and the datatype can either be 'float64' (= double precision), or 'float32' (=single precision).</p>
<p>Might not work for very large datasets. </p>

<p>Definition at line <a class="el" href="functions_8py_source.html#l00334">334</a> of file <a class="el" href="functions_8py_source.html">functions.py</a>.</p>

</div>
</div>
<a class="anchor" id="a97ad44d662af0ab6cd58e2090a0dfe62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mitgcm.functions.extract_on_surface </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>input_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>surface_locations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>axis_values</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extract the value of a 3D field on a 2D surface. </p>
<p>This function takes an 3 dimensional matrix 'input_array' and an 2 dimensional matrix 'surface_locations' and returns a 2 dimensional matrix that contains the values of input_array at the location specified by surface_locations along the third dimension using the values for that axis contained in 'axis_values'. Linear interpolation is used to find the values. </p>

<p>Definition at line <a class="el" href="functions_8py_source.html#l00102">102</a> of file <a class="el" href="functions_8py_source.html">functions.py</a>.</p>

</div>
</div>
<a class="anchor" id="a4027a61553c5b8f04b4fcb335224b30e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mitgcm.functions.interp_field </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>old_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>old_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>new_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>new_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>interp_order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fill_nans</em> = <code>'no'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_its</em> = <code>5</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interpolate a given field onto a different grid. </p>
<p>Only performs interpolation in the horizontal directions. </p><hr/>
 <h2>Parameters</h2>
<ul>
<li>field - the variable to be interpolated</li>
<li>old_x, old_y - the axis on which the original field is defined.</li>
<li>new_x, new_y - the axis onto which the field will be interpolated.</li>
<li>interp_order - the order of the interpolation function, integer between 1 and 5 inclusive. 1 -&gt; linear, 3 -&gt; cubic, &amp;c..</li>
<li>fill_nans - if 'no' values in field are not altered. If 'yes', then NaNs in 'field' are replace with the mean of surrounding non-NaNs.</li>
<li>max_its - maximum number of iterations to perform when healing NaNs in field. </li>
</ul>

<p>Definition at line <a class="el" href="functions_8py_source.html#l00290">290</a> of file <a class="el" href="functions_8py_source.html">functions.py</a>.</p>

</div>
</div>
<a class="anchor" id="ab26c3c96d103e888d18a0378ebd78355"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mitgcm.functions.layer_integrate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>upper_contour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lower_contour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>grid_obect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>integrand</em> = <code>'none'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>interp_method</em> = <code>'none'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Integrate between two non-trivial surfaces, 'upper_contour' and 'lower_contour'. </p>
<p>At the moment this only works if all the inputs are defined at the same grid location.</p>
<p>The input array 'integrand' is optional. If it is not included then the output is the volume per unit area (difference in depth) between the two surfaces at each grid point, </p><hr/>
 <h2>Parameters</h2>
<ul>
<li>upper_contour - the higher surface</li>
<li>lower_contour - the lower surface</li>
<li>axis_values - the vertical axis. ** defined at the cell centres if using interp_method = 'linear' ** defined at the cell faces if using interp_method = 'none'</li>
<li>interp_method - defines whether the function interpolates values of the integrand. Possible options are 'none' or 'linear'.</li>
<li>integrand - the field to be integrated between the contours </li>
</ul>

<p>Definition at line <a class="el" href="functions_8py_source.html#l00143">143</a> of file <a class="el" href="functions_8py_source.html">functions.py</a>.</p>

</div>
</div>
<a class="anchor" id="a4f5e2c48ffb91f133837e5fcae1eb143"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mitgcm.functions.numerics_replace_nans </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_nans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>inans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>jnans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kernel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kernel_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replaced_new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replaced_old</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="functions_8py_source.html#l00595">595</a> of file <a class="el" href="functions_8py_source.html">functions.py</a>.</p>

</div>
</div>
<a class="anchor" id="a6070f3c37fd5bc2f9f9e5c53dbd2d986"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mitgcm.functions.plt_mon_stats </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>netcdf_filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>variables</em> = <code>['advcfl_uvel_max'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>advcfl_vvel_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>advcfl_wvel_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>time_units</em> = <code>'days'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>output_filename</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Plot some monitor file variables. </p>
<p>'netcdf_filename' can contain shell wild cards, but only the first matching file will be used.</p>
<p>Options include:</p><ul>
<li>advcfl_uvel_max</li>
<li>advcfl_vvel_max</li>
<li>advcfl_wvel_max</li>
<li>ke_mean</li>
<li>dynstat_theta_mean</li>
<li>dynstat_sst_mean</li>
<li>dynstat_sst_sd</li>
<li>dynstat_salt_max</li>
<li>dynstat_salt_min</li>
<li>dynstat_uvel_mean</li>
<li>dynstat_vvel_mean</li>
<li>dynstat_wvel_mean</li>
<li>...</li>
<li>and many others. </li>
</ul>

<p>Definition at line <a class="el" href="functions_8py_source.html#l00363">363</a> of file <a class="el" href="functions_8py_source.html">functions.py</a>.</p>

</div>
</div>
<a class="anchor" id="accc175fb281b4d8b8ffa973260d0b792"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mitgcm.functions.replace_nans </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kernel_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em> = <code>'localmean'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replace NaN elements in an array using an iterative image inpainting algorithm. </p>
<p>The algorithm is the following:</p>
<p>1) For each element in the input array, replace it by a weighted average of the neighbouring elements which are not NaN themselves. The weights depends of the method type. If <code>method=localmean</code> weight are equal to 1/( (2*kernel_size+1)**2 -1 )</p>
<p>2) Several iterations are needed if there are adjacent NaN elements. If this is the case, information is "spread" from the edges of the missing regions iteratively, until the variation is below a certain threshold.</p>
<h2>Parameters </h2>
<p>array : 2d np.ndarray an array containing NaN elements that have to be replaced</p>
<p>max_iter : int the number of iterations</p>
<p>tol: float the difference between subsequent iterations for stopping the algorithm</p>
<p>kernel_size : int the size of the kernel, default is 1</p>
<p>method : str the method used to replace invalid values. Valid options are <code>localmean</code>.</p>
<h2>Returns </h2>
<p>filled : 2d np.ndarray a copy of the input array, where NaN elements have been replaced.</p>
<hr/>
 <h2>Acknowledgements</h2>
<p>Code for this function is (very slightly modified) from <a href="https://github.com/gasagna/openpiv-python/commit/81038df6d218b893b044193a739026630238fb22#diff-9b2f4f9bb8180e4451e8f85164df7217">https://github.com/gasagna/openpiv-python/commit/81038df6d218b893b044193a739026630238fb22#diff-9b2f4f9bb8180e4451e8f85164df7217</a> which is part of the OpenPIV project.</p><ul>
<li>docs here: <a href="http://alexlib.github.io/openpiv-python/index.html">http://alexlib.github.io/openpiv-python/index.html</a></li>
<li>code here: <a href="https://github.com/gasagna/openpiv-python">https://github.com/gasagna/openpiv-python</a> </li>
</ul>

<p>Definition at line <a class="el" href="functions_8py_source.html#l00407">407</a> of file <a class="el" href="functions_8py_source.html">functions.py</a>.</p>

</div>
</div>
<a class="anchor" id="a4080d0c45351dcd041bf1c77e26f42f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mitgcm.functions.shift_U_to_T </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>array</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shift the array from UVEL points to the corresponding tracer point. </p>

<p>Definition at line <a class="el" href="functions_8py_source.html#l00653">653</a> of file <a class="el" href="functions_8py_source.html">functions.py</a>.</p>

</div>
</div>
<a class="anchor" id="a26bab479bedecc18aa830eda439ab9b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mitgcm.functions.shift_V_to_T </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>array</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shift the array from VVEL points to the corresponding tracer point. </p>

<p>Definition at line <a class="el" href="functions_8py_source.html#l00659">659</a> of file <a class="el" href="functions_8py_source.html">functions.py</a>.</p>

</div>
</div>
<a class="anchor" id="aed1104c67878e97d1fce0640dfd0bb26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mitgcm.functions.shift_vort_to_T </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>array</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shift the array from vorticity points to the corresponding tracer point. </p>

<p>Definition at line <a class="el" href="functions_8py_source.html#l00647">647</a> of file <a class="el" href="functions_8py_source.html">functions.py</a>.</p>

</div>
</div>
<a class="anchor" id="a53542e46800d54165cbda624b24a1d83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mitgcm.functions.shift_W_to_T </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>array</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shift the array from WVEL points to the corresponding tracer point. </p>

<p>Definition at line <a class="el" href="functions_8py_source.html#l00665">665</a> of file <a class="el" href="functions_8py_source.html">functions.py</a>.</p>

</div>
</div>
<a class="anchor" id="ab197f4884fc8a0ab7d38dc5a5cfd5eb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mitgcm.functions.show_variables </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>netcdf_filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A shortcut function to display all of the variables contained within a netcdf file. </p>
<p>If the filename contains wildcards, they'll be expanded and only the first file used. </p>

<p>Definition at line <a class="el" href="functions_8py_source.html#l00348">348</a> of file <a class="el" href="functions_8py_source.html">functions.py</a>.</p>

</div>
</div>
<a class="anchor" id="ab12baa939c3055bc4c9bceb54da9f16e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def mitgcm.functions.test_layer_integrate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test function to check that the layer integrate function is working correctly.</pre> 
<p>Definition at line <a class="el" href="functions_8py_source.html#l00276">276</a> of file <a class="el" href="functions_8py_source.html">functions.py</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 28 2015 16:27:01 for mitgcm by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
