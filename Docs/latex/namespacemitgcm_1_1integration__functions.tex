\hypertarget{namespacemitgcm_1_1integration__functions}{}\section{mitgcm.\+integration\+\_\+functions Namespace Reference}
\label{namespacemitgcm_1_1integration__functions}\index{mitgcm.\+integration\+\_\+functions@{mitgcm.\+integration\+\_\+functions}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespacemitgcm_1_1integration__functions_a2161a8f50b6705a0d99e52231402e3ff}{layer\+\_\+integrate}
\begin{DoxyCompactList}\small\item\em Integrate between two non-\/trivial surfaces, \textquotesingle{}upper\+\_\+contour\textquotesingle{} and \textquotesingle{}lower\+\_\+contour\textquotesingle{}. \end{DoxyCompactList}\item 
def \hyperlink{namespacemitgcm_1_1integration__functions_ab58f08cbb74ce479d02792a6ba53686a}{test\+\_\+layer\+\_\+integrate} ()
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{namespacemitgcm_1_1integration__functions_a2161a8f50b6705a0d99e52231402e3ff}{}\index{mitgcm\+::integration\+\_\+functions@{mitgcm\+::integration\+\_\+functions}!layer\+\_\+integrate@{layer\+\_\+integrate}}
\index{layer\+\_\+integrate@{layer\+\_\+integrate}!mitgcm\+::integration\+\_\+functions@{mitgcm\+::integration\+\_\+functions}}
\subsubsection[{layer\+\_\+integrate}]{\setlength{\rightskip}{0pt plus 5cm}def mitgcm.\+integration\+\_\+functions.\+layer\+\_\+integrate (
\begin{DoxyParamCaption}
\item[{}]{upper\+\_\+contour, }
\item[{}]{lower\+\_\+contour, }
\item[{}]{axis, }
\item[{}]{integrand = {\ttfamily \textquotesingle{}none\textquotesingle{}}, }
\item[{}]{axis\+\_\+sign = {\ttfamily \textquotesingle{}negative\textquotesingle{}}}
\end{DoxyParamCaption}
)}\label{namespacemitgcm_1_1integration__functions_a2161a8f50b6705a0d99e52231402e3ff}


Integrate between two non-\/trivial surfaces, \textquotesingle{}upper\+\_\+contour\textquotesingle{} and \textquotesingle{}lower\+\_\+contour\textquotesingle{}. 

The arrays ind\+\_\+upper and ind\+\_\+lower come from the function extract\+\_\+surface. At the moment this only works if all the inputs are defined at the same location.

In M\+I\+Tgcm world, the axis needs to be Zl -\/ \textquotesingle{}the lower interface locations\textquotesingle{}. It needs to include the surface, but the lowest grid face is not required.

The input array \textquotesingle{}integrand\textquotesingle{} is optional. If it is not included then the output is the volume (per unit area) between the two surfaces at each grid point,

Examples\+: contour\+\_\+10375, ind\+\_\+10375 = extract\+\_\+surface(density\+\_\+diags\+\_\+mean.\+rho\mbox{[}\+:\mbox{]},1037.\+5,grid.\+Z\mbox{[}\+:\mbox{]}) contour\+\_\+1038, ind\+\_\+1038 = extract\+\_\+surface(density\+\_\+diags\+\_\+mean.\+rho\mbox{[}\+:\mbox{]},1038,grid.\+Z\mbox{[}\+:\mbox{]})

Volume between two stratification surfaces. In this case the optional argument \textquotesingle{}integrand\textquotesingle{} is not required. volume = integrate\+\_\+layerwise(contour\+\_\+10375, ind\+\_\+10375,contour\+\_\+1038, ind\+\_\+1038,grid.\+Z\mbox{[}\+:\mbox{]})

Kinetic energy between two stratification surfaces. The integrand is the kinetic energy. E\+K\+E\+\_\+10375\+\_\+1038 = integrate\+\_\+layerwise(contour\+\_\+10375, ind\+\_\+10375,contour\+\_\+1038, ind\+\_\+1038,grid.\+Z\mbox{[}\+:\mbox{]},E\+K\+E)

\begin{DoxyVerb} upper = -1 * np.array([[1,1,1],[1,1,1],[1,1,1]])
 lower = -1 * (np.array([[-0.9,1,1],[1,1,1],[1,1,1]]) + 2)
 axis = -1 * np.array([0.5,1.2,1.6,2.1,2.6,3.1])
 test = layer_integrate(upper,lower,axis)
 print test
 print np.sum(test)
 print np.sum(upper - lower)

 [[ 0.1  2.   2. ]
  [ 2.   2.   2. ]
  [ 2.   2.   2. ]]
 16.1
 16.1\end{DoxyVerb}
 

Definition at line 45 of file integration\+\_\+functions.\+py.

\hypertarget{namespacemitgcm_1_1integration__functions_ab58f08cbb74ce479d02792a6ba53686a}{}\index{mitgcm\+::integration\+\_\+functions@{mitgcm\+::integration\+\_\+functions}!test\+\_\+layer\+\_\+integrate@{test\+\_\+layer\+\_\+integrate}}
\index{test\+\_\+layer\+\_\+integrate@{test\+\_\+layer\+\_\+integrate}!mitgcm\+::integration\+\_\+functions@{mitgcm\+::integration\+\_\+functions}}
\subsubsection[{test\+\_\+layer\+\_\+integrate}]{\setlength{\rightskip}{0pt plus 5cm}def mitgcm.\+integration\+\_\+functions.\+test\+\_\+layer\+\_\+integrate (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{namespacemitgcm_1_1integration__functions_ab58f08cbb74ce479d02792a6ba53686a}


Definition at line 82 of file integration\+\_\+functions.\+py.

